import{s as D,r as v,d as o,e as R,f as a,V as j,h as l,l as w,m as x,i as t,p as s,q as b,u as d,F as m,k as B,v as $,x as K,t as S,j as r}from"./index-4898c992.js";import{u as z}from"./list-d23b9e6c.js";import{V as h,a as A}from"./VRow-d9d446c0.js";import{V as q}from"./VTable-b02e9051.js";const G=t("h1",null,"事項",-1),H=t("thead",null,[t("tr",null,[t("th",null,"名稱"),t("th",null,"操作")])],-1),J={key:0},M=t("td",{colspan:"2",class:"text-center"},"沒有事項",-1),O=[M],P=t("h1",null,"已完成事項",-1),Q=t("thead",null,[t("tr",null,[t("th",null,"名稱"),t("th",null,"操作")])],-1),W={key:0},X=t("td",{colspan:"2",class:"text-center"},"沒有事項",-1),Y=[X],oe={__name:"List",setup(Z){const k=z(),{addItem:E,editItem:F,cancelEditItem:L,delItem:N,confirmEditItem:T,delFinishedItem:U}=k,{items:V,finishedItems:y}=D(k),f=v(""),i=v(null),I=v([]),C=async()=>{const n=await i.value.validate();console.log(n),!(n.length>0)&&(E(f.value),i.value.blur(),i.value.reset())},g=async(n,_)=>{const e=await I.value[_].validate();console.log(e),!(e.length>0)&&T(n)},c={required:n=>!!n||"欄位必填",length:n=>n.length>=3||"必須三個字以上"};return(n,_)=>(o(),R(j,null,{default:a(()=>[l(A,null,{default:a(()=>[l(h,{cols:"12"},{default:a(()=>[G]),_:1}),l(h,{cols:"12"},{default:a(()=>[l(w,{modelValue:f.value,"onUpdate:modelValue":_[0]||(_[0]=e=>f.value=e),label:"新增事項","append-icon":"mdi-plus",onKeydown:x(C,["enter"]),"onClick:append":C,rules:[c.required,c.length],ref_key:"newItemInput",ref:i},null,8,["modelValue","onKeydown","rules"]),l(q,null,{default:a(()=>[H,t("tbody",null,[(o(!0),s(m,null,b(d(V),(e,p)=>(o(),s("tr",{key:e.id},[t("td",null,[$(l(w,{modelValue:e.model,"onUpdate:modelValue":u=>e.model=u,rules:[c.required,c.length],autofocus:"",ref_for:!0,ref_key:"editItemInput",ref:I,onKeydown:x(u=>g(e.id,p),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[K,e.edit]]),$(t("span",null,S(e.name),513),[[K,!e.edit]])]),t("td",null,[e.edit?(o(),s(m,{key:0},[l(r,{icon:"mdi-check",color:"green",variant:"text",onClick:u=>g(e.id,p)},null,8,["onClick"]),l(r,{icon:"mdi-undo",color:"red",variant:"text",onClick:u=>d(L)(e.id)},null,8,["onClick"])],64)):(o(),s(m,{key:1},[l(r,{icon:"mdi-pencil",color:"green",variant:"text",onClick:u=>d(F)(e.id)},null,8,["onClick"]),l(r,{icon:"mdi-delete",color:"red",variant:"text",onClick:u=>d(N)(e.id)},null,8,["onClick"])],64))])]))),128)),d(V).length===0?(o(),s("tr",J,O)):B("",!0)])]),_:1})]),_:1}),l(h,{cols:"12"},{default:a(()=>[P]),_:1}),l(h,{cols:"12"},{default:a(()=>[l(q,null,{default:a(()=>[Q,t("tbody",null,[(o(!0),s(m,null,b(d(y),e=>(o(),s("tr",{key:e.id},[t("td",null,S(e.name),1),t("td",null,[l(r,{icon:"mdi-delete",color:"red",variant:"text",onClick:p=>d(U)(e.id)},null,8,["onClick"])])]))),128)),d(y).length===0?(o(),s("tr",W,Y)):B("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{oe as default};
